<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BioSynth Planet</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');
  body {
    margin: 0;
    overflow: hidden;
    background: radial-gradient(ellipse at center, #000010 0%, #000 100%);
    font-family: 'Jua', sans-serif;
    color: #fff;
  }

  canvas {
    display: block;
  }

  /* ìƒë‹¨ í¬ì¸íŠ¸ & í™˜ê²½ ì ìˆ˜ */
  .hud {
    position: absolute;
    top: 15px;
    right: 20px;
    background: rgba(0,0,0,0.4);
    border: 2px solid #00f5a0;
    border-radius: 10px;
    padding: 10px 20px;
    text-align: right;
    font-size: 20px;
  }

  /* í•˜ë‹¨ ë²„íŠ¼ */
  .bottom-bar {
    position: absolute;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 20px;
  }

  .btn {
    background: #00f5a0;
    border: none;
    border-radius: 20px;
    padding: 10px 25px;
    font-size: 18px;
    color: #000;
    cursor: pointer;
    transition: 0.3s;
  }

  .btn:hover {
    background: #a1ffd1;
  }

  /* ìƒì  & ì¸ì¦ ì°½ */
  .window {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 400px;
    height: 450px;
    background: rgba(20,20,30,0.9);
    border: 3px solid #00f5a0;
    border-radius: 15px;
    transform: translate(-50%, -50%);
    display: none;
    flex-direction: column;
    padding: 15px;
    overflow-y: auto;
  }

  .window h2 {
    text-align: center;
    color: #00f5a0;
  }

  .item {
    background: rgba(255,255,255,0.1);
    margin: 10px;
    border-radius: 10px;
    padding: 10px;
  }

  .close-btn {
    background: #ff77aa;
    color: #fff;
    border: none;
    border-radius: 15px;
    padding: 5px 10px;
    cursor: pointer;
    align-self: flex-end;
  }

  input[type="file"], select {
    background: #222;
    border: 1px solid #00f5a0;
    color: white;
    border-radius: 5px;
    padding: 5px;
  }

  #certList .record {
    background: rgba(255,255,255,0.1);
    margin: 5px 0;
    padding: 8px;
    border-radius: 5px;
  }

</style>
</head>
<body>

<div class="hud">
  ğŸŒ± í¬ì¸íŠ¸: <span id="points">1200</span><br>
  ğŸŒ í™˜ê²½ ì ìˆ˜: <span id="eco">320</span>
</div>

<div class="bottom-bar">
  <button class="btn" onclick="openShop()">ìƒì </button>
  <button class="btn" onclick="openCert()">ì¸ì¦</button>
</div>

<!-- ìƒì  ì°½ -->
<div id="shopWindow" class="window">
  <button class="close-btn" onclick="closeShop()">ë‹«ê¸°</button>
  <h2>ğŸŒ¿ ìƒì </h2>
  <div class="item">ğŸ§ª ì •í™” ì¥ë¹„ - 300P</div>
  <div class="item">ğŸŒ³ ì‹ë¬¼ ê¾¸ë¯¸ê¸° - 200P</div>
  <div class="item">ğŸ° ë™ë¬¼ ì´ì£¼ (ì¼ë°˜) - 500P</div>
  <div class="item">ğŸ¦‹ ë™ë¬¼ ì´ì£¼ (í¬ê·€) - 1500P</div>
  <div class="item">ğŸŒŸ ë©¸ì¢…ìœ„ê¸°ì¢… íŒ¨í‚¤ì§€ (ìœ ë£Œ)</div>
</div>

<!-- ì¸ì¦ ì°½ -->
<div id="certWindow" class="window">
  <button class="close-btn" onclick="closeCert()">ë‹«ê¸°</button>
  <h2>ğŸ“· í™˜ê²½ ì‹¤ì²œ ì¸ì¦</h2>
  <form id="certForm">
    <label>ì¹´í…Œê³ ë¦¬:
      <select id="category">
        <option>ë¶„ë¦¬ë°°ì¶œ</option>
        <option>ëŒ€ì¤‘êµí†µ ì´ìš©</option>
        <option>ì¹œí™˜ê²½ í™”í•™ ì‹¤í—˜</option>
        <option>ìƒí™”í•™ ì •í™” ì‹¤í—˜</option>
      </select>
    </label><br><br>
    <label>ì‚¬ì§„ ì—…ë¡œë“œ:
      <input type="file" id="photo" accept="image/*">
    </label><br><br>
    <button class="btn" type="submit">ì¸ì¦í•˜ê¸°</button>
  </form>
  <hr>
  <h3>ğŸ“œ ì¸ì¦ ê¸°ë¡</h3>
  <div id="certList"></div>
</div>

<!-- three.js í–‰ì„± -->
<script src="https://cdn.jsdelivr.net/npm/three@0.156.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.156.0/examples/js/controls/OrbitControls.js"></script>
<script>
let scene = new THREE.Scene();
let camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
let renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// ì¡°ëª…
let ambient = new THREE.AmbientLight(0xffffff, 0.5);
scene.add(ambient);
let point = new THREE.PointLight(0xffffff, 1);
point.position.set(5,5,5);
scene.add(point);

// í–‰ì„± (ë”ëŸ¬ìš´ í…ìŠ¤ì²˜ ëŠë‚Œ)
let texture = new THREE.TextureLoader().load('https://i.imgur.com/y8WchLZ.jpg');
let geometry = new THREE.SphereGeometry(3, 32, 32);
let material = new THREE.MeshStandardMaterial({map: texture});
let planet = new THREE.Mesh(geometry, material);
scene.add(planet);

// ì—°êµ¬ì†Œ (ê·€ì—¬ìš´ íë¸Œë¡œ í‘œí˜„)
let labGeo = new THREE.BoxGeometry(0.3, 0.3, 0.3);
let labMat = new THREE.MeshStandardMaterial({color: 0x00f5a0});
let lab = new THREE.Mesh(labGeo, labMat);
lab.position.set(0, 3.3, 0);
scene.add(lab);

let controls = new THREE.OrbitControls(camera, renderer.domElement);
camera.position.z = 7;

function animate() {
  requestAnimationFrame(animate);
  planet.rotation.y += 0.002;
  renderer.render(scene, camera);
}
animate();

// âœ… ìƒì  ì°½ ì œì–´
function openShop(){ document.getElementById("shopWindow").style.display="flex"; }
function closeShop(){ document.getElementById("shopWindow").style.display="none"; }

// âœ… ì¸ì¦ ì°½ ì œì–´
function openCert(){ document.getElementById("certWindow").style.display="flex"; }
function closeCert(){ document.getElementById("certWindow").style.display="none"; }

// âœ… ì¸ì¦ ì‹œìŠ¤í…œ
const form = document.getElementById("certForm");
const list = document.getElementById("certList");
form.addEventListener("submit", (e)=>{
  e.preventDefault();
  const file = document.getElementById("photo").files[0];
  if(!file){
    alert("ì‚¬ì§„ì„ ì—…ë¡œë“œí•´ì•¼ ì¸ì¦ë©ë‹ˆë‹¤!");
    return;
  }
  const cat = document.getElementById("category").value;
  const date = new Date();
  const record = document.createElement("div");
  record.className = "record";
  record.textContent = `${date.getFullYear()}-${date.getMonth()+1}-${date.getDate()} | ${cat}`;
  list.prepend(record);
  alert("ì¸ì¦ ì™„ë£Œ!");
  form.reset();
});
</script>

</body>
</html>
